var EDEN_UI_HELPER=function(){function e(e,t,o){return o=o||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(o)+e}var t=0,o=0,n={};return function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var o=e[t].split("="),i=$.trim(o[0]),a=unescape(o[1]);n[i]=a}}(),{countDown:function(t,o,n){function i(){var o=(new Date).getTime(),i=Math.round((o-r)/1e3),c=d-i;if(0>=c)return clearInterval(a),void(n&&n());var s=parseInt(c/60),l=parseInt(c%60),p=parseInt(s/60),f=parseInt(s%60);t.html(e(p,2)+":"+e(f,2)+":"+e(l,2)+" 后开放投标")}var a;if(t.length>0){var r=(new Date).getTime(),d=parseInt(o);a=setInterval(i,1e3)}},isAndroid:function(e){return e=e||navigator.userAgent,e.toLowerCase().indexOf("android")>-1},isIOS:function(e){return!(!navigator||!navigator.platform)&&(e=e||navigator.platform,/iP(?:hone|od|ad)/.test(e))},isWeixin:function(e){return e=e||navigator.userAgent.toLowerCase(),"micromessenger"==e.match(/MicroMessenger/i)},showAndroidSmartBanner:function(){var e=this;if(!e.getCookie("android-downloaded")){var t='<div id="android-smart-banner"><div class="app-info"><img alt="积木盒子安卓客户端" class="icon" src="http://www.jimubox.com/Content/img/appicon72.png" width="40"><span>积木盒子安卓客户端</span><br/><a href="http://app-download.jimubox.com/JimuboxMobile.apk">点击下载</a></div><a class="close" href="#">×</a></div>';t+="<style> body { padding-top: 60px;} #android-smart-banner { background-color: #fff; z-index: 1010; box-sizing: border-box; padding: 10px; position: fixed; top: 0; width: 100%; margin: 0; left: 0; height: 60px; overflow: hidden; border-bottom: 1px solid #ddd; padding-left: 10px; } #android-smart-banner .close { text-decoration: none; color: gray; font-size: 24px; position: absolute; top: 4px; right: 10px; border-radius: 3px; display: inline-block; text-align: center; vertical-align: middle; font-weight: bold; line-height: 1.0; } #android-smart-banner .app-info { box-sizing: border-box; } #android-smart-banner a { color: #2498c4; text-decoration: none; } #android-smart-banner .icon { float: left; margin-right: 10px;} </style>",$("body").prepend(t);var o=$("#android-smart-banner");o.on("click",".close",function(t){t.preventDefault(),o.remove(),e.setCookie("android-downloaded",!0,1),$("body").css("padding-top",0)})}},getCookie:function(e){return n[e]},setCookie:function(e,t,o){var n="session";o>0&&(date=new Date,date.setTime(date.getTime()+24*o*3600*1e3),n=date.toGMTString());var i=e+"="+t+";expires="+n+";path=/";document.cookie=i},delCookie:function(e){document.cookie=e+"=;expires="+new Date(0).toGMTString()+";path=/"},InitWidgets:function(){$.scrollUp({scrollName:"scrollUp",scrollDistance:300,scrollFrom:"top",scrollSpeed:300,easingType:"linear",animation:"fade",animationInSpeed:200,animationOutSpeed:200,scrollText:"返回顶部",scrollTitle:!1,scrollImg:!0,activeOverlay:!1,zIndex:1099})},RefreshCaptcha:function(){$("#CaptchaImage").on("click",function(e){e.preventDefault(),$(this).attr("src","/CaptchaImage?once="+ +new Date)})},MarkCurrentPage:function(){if(0==$(".js-ignore-pagemark").length){var e,t=function(e){e.addClass("active")},o=$(".nav-collapse .nav"),n=0;if(0!=o.length){var i=$(".sub-nav");if(0!=i.length){var a=i.attr("sup");return void t($("#"+a))}o.find("li").each(function(){e=$(this).find("a"),-1!=window.location.href.indexOf(e.attr("href"))&&"/"!=e.attr("href")&&(t($(this)),n=1)}),0===n&&t($("#Home"))}}},FixSubNavToTop:function(){var e=$(".sub-nav");if(0!=e.length){var t=e.offset().top,o=function(){if($(window).width()<979)return void(e.hasClass("fixed-top")&&(e.removeClass("fixed-top"),$("body").attr("style","padding-top:0px")));if(0!=e.length){var o=$(window).scrollTop();o>=t&&!e.hasClass("fixed-top")?(e.addClass("fixed-top"),$("body").attr("style","padding-top:50px")):o<t&&e.hasClass("fixed-top")&&(e.removeClass("fixed-top"),$("body").attr("style","padding-top:0px"))}};$(window).bind("scroll resize",o),o()}},ChangeFormToAjax:function(e,t,o,n){null==e&&(e=$("form")),e.submit(function(){return!(null!=t&&!t(e))&&($.ajax({type:e.attr("method"),url:e.attr("action"),data:e.serialize()}).done(function(t){null!=o&&o(e,t)}).fail(function(t){null!=n&&n(e,t)}),!1)})},BindRowSelectToCheckboxForTable:function(e){var t=-1,o=e.find("tbody tr");o.find(":checkbox").on("click",function(e){e.stopPropagation(),e.preventDefault()}),o.on("mousedown",function(o){var n=this.rowIndex,i=$(this);if(o.shiftKey&&-1!=t){var a=t,r=n;a>r&&(a=n,r=t),e.find("tr:gt("+(a-1)+"):lt("+(r-a+1)+")").css({background:"#FDAB55"}).find(":checkbox").prop("checked",!0),t=-1}else{var d=i.find(":checkbox");d.prop("checked",!d.prop("checked")),1==d.prop("checked")?i.css({background:"#FDAB55"}):i.css({background:""}),t=n}return o.preventDefault(),!1})},PairRadioOrCheckboxWithTextbox:function(e){e=e||$(".js-radio-checkbox-text"),e.each(function(e,t){var o=$(t).find(":radio:last, :checkbox:last"),n=$(t).find(":text");o.on("click",function(){this.checked&&n.focus()}),n.on("focus",function(){o.attr("checked","checked")})})},HookResponsiveTable:function(e){var t=void 0==e?$(".table-responsive"):e.find(".table-responsive");$.each(t,function(e,t){var n=$(t).find("th"),i="",a="table-responsive-"+ ++o;$(t).attr("id",a);for(var r=0;r<n.length;r++){i+="#"+a+" td:nth-of-type("+(r+1)+"):before{content:'"+n.eq(r).text()+"'}\n"}$("head").append("<style type='text/css'>"+i+"</style>")})},HookDatePicker:function(e){var o=void 0==e?$(".js-date-picker"):e.find(".js-date-picker");$.each(o,function(e,o){$(o).attr("id","date-picker-"+ ++t).datetimepicker({format:"yyyy-mm-dd",language:"zh-CN",autoclose:!0,minView:3}).on("changeDate",function(e){$(this).blur()})})},HookLookup:function(e){var t=void 0==e?$(".js-lookup"):e.find(".js-lookup");$.each(t,function(e,t){var o=parseInt($(t).attr("ui-tree-id"),10);EDEN_TREE.BindLookup($(t),o)})},HookFlotLookup:function(e){var t=void 0==e?$(".js-flat-lookup"):e.find(".js-flat-lookup");$.each(t,function(e,t){var o=parseInt($(t).attr("ui-tree-id"),10);EDEN_TREE.BindFlatLookup($(t),o)})},HookAutoComplete:function(e){var t=void 0==e?$(".js-auto-complete"):e.find(".js-auto-complete");$.each(t,function(e,t){var o=parseInt($(t).attr("ui-tree-id"),10);EDEN_TREE.BindAutoComplete($(t),o)})}}}();